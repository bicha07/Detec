<div class="card mx-4 mb-4">
    <div class="card-header d-flex justify-content-between">
      <p>Profil de l'Utilisateur</p>
      <button class="btn btn-secondary colie" (click)="loadUserProfile()">Rafraîchir</button>
    </div>
  
    <div class="card-body">
      <div class="row">
        <!-- Photo and user info column -->
        <div class="col-md-5 text-center mb-4 cooler">
          <img [src]=" baseUrl + '/storage/uploads/' + currentUser.photo" alt="Profile Image" class="img-fluid mb-3">
        </div>
  
        <!-- Info display / form column -->
        <div class="col-md-7">
          <div *ngIf="!isEditing">
            <div class="text-center section-margin">
              <h2>Profil de l'Utilisateur</h2>
              <p class="text-muted">Gérez les informations de votre profil</p>
            </div>
            <div class="row mb-3">
              <div class="col-md-6 col-sm-12">
                <p><strong class="detec-color">Nom d'utilisateur:</strong> {{ currentUser.username }}</p>
              </div>
              <div class="col-md-6 col-sm-12">
                <p><strong class="detec-color">Email:</strong> {{ currentUser.email }}</p>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-md-6 col-sm-12">
                <p><strong class="detec-color">Role:</strong> {{ currentUser.role }}</p>
              </div>
              <div class="col-md-6 col-sm-12">
                <p><strong class="detec-color">Description:</strong> {{ currentUser.description }}</p>
              </div>
            </div>
            <div class="text-center">
              <button class="btn btn-primary" (click)="toggleEdit()">Éditer</button>
            </div>
          </div>
  
          <form *ngIf="isEditing" [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="p-4">
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="username" class="form-label">Nom d'utilisateur</label>
                <input type="text" class="form-control" id="username" formControlName="username" placeholder="Entrez votre nom d'utilisateur">
              </div>
              <div class="col-md-6">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" formControlName="email" placeholder="Entrez votre email">
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="role" class="form-label">Role</label>
                <input type="text" class="form-control" id="role" formControlName="role" placeholder="Entrez votre rôle">
              </div>
              <div class="col-md-6">
                <label for="description" class="form-label">Description</label>
                <input type="text" class="form-control" id="description" formControlName="description" placeholder="Entrez votre description">
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-md-12">
                <label for="photo" class="form-label">Photo</label>
                <input type="file" class="form-control" id="photo" (change)="onFileSelected($event)">
              </div>
            </div>
            <div class="d-flex justify-content-center">
              <button type="submit" class="btn btn-success">Mettre à jour</button>
              <button type="button" class="btn btn-secondary ms-2" (click)="toggleEdit()">Annuler</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  